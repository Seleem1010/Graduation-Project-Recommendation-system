CREATE TABLE IF NOT EXISTS users (id BIGINT PRIMARY KEY NOT NULL, firstname CHAR(255) NOT NULL, lastname CHAR(255) NOT NULL, email CHAR(255) UNIQUE KEY NOT NULL, password CHAR(255) NOT NULL, verified INT NOT NULL, reset_code INT NOT NULL DEFAULT 0, image CHAR(255) NOT NULL DEFAULT "user.png");

CREATE TABLE IF NOT EXISTS products (id BIGINT PRIMARY KEY NOT NULL, name CHAR(255) NOT NULL, description TEXT NOT NULL, image CHAR(255) NOT NULL DEFAULT "product.png", tags CHAR(255) NOT NULL DEFAULT "");

CREATE TABLE IF NOT EXISTS favorites (id BIGINT PRIMARY KEY NOT NULL, pid BIGINT NOT NULL, FOREIGN KEY (pid) REFERENCES products (id), uid BIGINT NOT NULL, FOREIGN KEY (uid) REFERENCES users (id));

CREATE TABLE IF NOT EXISTS comments (id BIGINT PRIMARY KEY NOT NULL, text CHAR(255) NOT NULL, time DATETIME NOT NULL, pid BIGINT NOT NULL, FOREIGN KEY (pid) REFERENCES products (id), uid BIGINT NOT NULL, FOREIGN KEY (uid) REFERENCES users (id), sentiment_analysis BOOLEAN NOT NULL);

CREATE TABLE IF NOT EXISTS ratings (id BIGINT PRIMARY KEY NOT NULL, rate TINYINT NOT NULL, pid BIGINT NOT NULL, FOREIGN KEY (pid) REFERENCES products (id), uid BIGINT NOT NULL, FOREIGN KEY (uid) REFERENCES users (id));